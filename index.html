<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yusuf Store 25 - Pusat Sepatu Padang Sidimpuan</title>

    <!-- Meta Tags -->
    <meta name="title" content="Yusuf Store 25 - Pusat Sepatu Padang Sidimpuan">
    <meta name="description" content="Pusat sepatu berkualitas di Padang Sidimpuan. Menyediakan sepatu Running, Casual, Futsal, basket, dan Jam Tangan Original & Premium.">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="index.html">
    <meta property="og:title" content="Yusuf Store 25 - Pusat Sepatu Padang Sidimpuan">
    <meta property="og:description" content="Temukan sepatu favoritmu di sini! Lokasi: Depan Tugu Salak. Klik untuk lihat katalog.">
    <meta property="og:image" content="1000108714.jpg">
    <meta property="og:image:width" content="300">
    <meta property="og:image:height" content="300">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&family=Russo+One&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                        display: ['Russo One', 'sans-serif'],
                    },
                    colors: {
                        primary: '#000000',
                        accent: '#ccff00',
                        secondary: '#18181b',
                        cardbg: '#121212',
                        mute: '#a1a1aa'
                    }
                }
            }
        }
    </script>
    <style>
        html { scroll-behavior: smooth; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .brand-logo:hover { 
            transform: scale(1.05); 
            border-color: #ccff00;
            box-shadow: 0 0 15px rgba(204, 255, 0, 0.3);
        }
        
        .product-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .product-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 10px 30px -10px rgba(204, 255, 0, 0.15); 
            border-color: #ccff00;
        }
        
        #imageModal, #adminModal, #testimoniModal { backdrop-filter: blur(8px); }
        .nav-link.active { color: #ccff00; font-weight: 700; text-shadow: 0 0 10px rgba(204, 255, 0, 0.3); }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .float-btn { animation: float 3s ease-in-out infinite; }
        
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        details[open] summary ~ * { animation: sweep .3s ease-in-out; }
        @keyframes sweep {
            0%    {opacity: 0; transform: translateY(-10px)}
            100%  {opacity: 1; transform: translateY(0)}
        }

        ::selection {
            background-color: #ccff00;
            color: #000;
        }
    </style>
</head>
<body class="bg-primary text-gray-200 font-sans pt-16 md:pt-20 min-h-screen selection:bg-accent selection:text-black">

    <!-- Navbar -->
    <nav class="bg-black/90 backdrop-blur-md border-b border-white/10 fixed w-full z-50 top-0">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="#" class="flex items-center gap-2 group" onclick="showSection('home-section'); resetFilter(); return false;">
                <img src="1000108714.jpg" alt="Logo" class="h-10 w-10 md:h-12 md:w-12 object-cover rounded-full border-2 border-transparent group-hover:border-accent transition duration-300">
                <div class="hidden md:block">
                    <h1 class="font-display font-bold text-xl leading-none text-white tracking-wide group-hover:text-accent transition">Yusuf Store 25</h1>
                    <p class="text-xs text-gray-400 font-mono">Padang Sidimpuan</p>
                </div>
            </a>

            <div class="hidden md:flex items-center space-x-8 text-sm font-bold tracking-wide uppercase">
                <a href="#" onclick="showSection('home-section'); return false;" class="nav-link text-gray-300 hover:text-accent transition">Beranda</a>
                <a href="#" onclick="showSection('catalog'); return false;" class="nav-link text-gray-300 hover:text-accent transition">Katalog</a>
                <a href="#" onclick="showSection('gallery'); return false;" class="nav-link text-gray-300 hover:text-accent transition">Galeri</a>
                <a href="#" onclick="showSection('testimonials'); return false;" class="nav-link text-gray-300 hover:text-accent transition">Testimoni</a>
                <a href="#" onclick="showSection('sizeguide'); return false;" class="nav-link text-gray-300 hover:text-accent transition">Size Guide</a>
            </div>

            <div class="hidden md:flex flex-1 mx-6 justify-end relative">
                <input type="text" id="desktopSearch" placeholder="Cari sneakers..." class="w-48 lg:w-64 bg-zinc-900 border border-zinc-700 rounded-full py-2 px-4 text-sm text-white focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent transition placeholder-gray-600" onkeyup="searchProduct(this.value); showSection('catalog');">
                <button class="absolute right-3 top-2.5 text-gray-500 hover:text-accent">
                    <i class="fas fa-search text-sm"></i>
                </button>
            </div>

            <div class="flex items-center gap-5">
                <a href="https://www.instagram.com/yusufstore_25" target="_blank" class="text-gray-300 hover:text-accent text-2xl transition">
                    <i class="fab fa-instagram"></i>
                </a>
                <button class="md:hidden text-2xl text-white hover:text-accent transition" onclick="toggleMenu()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden bg-zinc-900 border-t border-white/10 p-4 md:hidden text-white">
            <input type="text" placeholder="Cari barang..." class="w-full bg-black border border-zinc-700 p-2 rounded mb-4 focus:border-accent outline-none" onkeyup="searchProduct(this.value); showSection('catalog'); toggleMenu();">
            <ul class="space-y-4 font-bold uppercase text-sm tracking-wider">
                <li><a href="#" class="block hover:text-accent" onclick="showSection('home-section'); toggleMenu(); return false;">Beranda</a></li>
                <li><a href="#" class="block hover:text-accent" onclick="showSection('catalog'); toggleMenu(); return false;">Katalog</a></li>
                <li><a href="#" class="block hover:text-accent" onclick="showSection('gallery'); toggleMenu(); return false;">Galeri</a></li>
                <li><a href="#" class="block hover:text-accent" onclick="showSection('testimonials'); toggleMenu(); return false;">Testimoni</a></li>
                <li><a href="#" class="block hover:text-accent" onclick="showSection('sizeguide'); toggleMenu(); return false;">Size Guide</a></li>
                <li><a href="#shipping-location-section" class="block hover:text-accent" onclick="showSection('shipping-location-section'); toggleMenu(); return false;">Cek Ongkir & Lokasi</a></li>
            </ul>
        </div>
    </nav>

    <!-- FLOATING WHATSAPP -->
    <a href="https://wa.me/6281375861195" target="_blank" class="fixed bottom-6 right-6 z-50 float-btn bg-accent hover:bg-white text-black w-14 h-14 rounded-full shadow-[0_0_20px_rgba(204,255,0,0.4)] flex items-center justify-center text-3xl transition duration-300 border-2 border-black">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Home Section -->
        <div id="home-section" class="page-section">
            <section class="relative h-[350px] md:h-[450px] w-full overflow-hidden bg-black">
                <img src="https://images.unsplash.com/photo-1552346154-21d32810aba3?q=80&w=2070&auto=format&fit=crop" alt="Esthetic Shoes" class="w-full h-full object-cover opacity-40 grayscale hover:grayscale-0 transition duration-700">
                
                <div class="absolute top-4 right-2 md:top-12 md:right-16 z-30 transform rotate-12 hover:rotate-0 transition duration-500 cursor-default">
                    <div class="bg-accent text-black font-black text-[10px] md:text-base px-2 py-1 md:px-4 md:py-2 rounded-lg shadow-[0_0_20px_rgba(0,0,0,0.5)] border-2 border-black text-center leading-tight uppercase animate-pulse">
                        Barang Ready<br><span class="text-red-600 font-extrabold">& Bisa PO!</span>
                    </div>
                </div>

                <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
                
                <div class="absolute inset-0 flex flex-col justify-center items-center text-center p-4">
                    <img src="1000108714.jpg" alt="Logo" class="w-24 h-24 md:w-32 md:h-32 mb-6 rounded-full border-4 border-accent shadow-[0_0_30px_rgba(204,255,0,0.3)] object-cover">

                    <div class="mb-4">
                        <h2 class="text-3xl md:text-5xl font-display uppercase text-transparent bg-clip-text bg-gradient-to-r from-white via-accent to-white drop-shadow-[0_0_10px_rgba(204,255,0,0.5)] tracking-wider">
                            Yusuf Store 25
                        </h2>
                        <p class="text-[10px] md:text-sm text-gray-300 font-mono mt-1 tracking-widest uppercase">
                            Padang Sidimpuan Depan Tugu Salak
                        </p>
                    </div>
                    
                    <div class="text-sm md:text-lg font-light text-gray-300 flex flex-col gap-1 items-center mb-8">
                        <p class="italic">"Biarkan gayamu bicara!"</p>
                        <p>"Mode yang cocok untuk setiap langkah Anda"</p>
                        <p class="text-accent font-medium mt-1">"Tampil percaya diri dengan sepatu Yusuf_Store25"</p>
                    </div>

                    <button onclick="showSection('catalog')" class="bg-accent text-black font-extrabold py-3 px-10 rounded-full transition duration-300 hover:bg-white hover:scale-105 shadow-[0_0_20px_rgba(204,255,0,0.5)] uppercase tracking-widest text-xs md:text-sm">
                        Belanja Sekarang
                    </button>
                </div>
            </section>

            <!-- Brand Grid -->
            <section class="py-16 container mx-auto px-4">
                <div class="text-center mb-12">
                    <span class="inline-block border-b-2 border-accent pb-2">
                        <h3 class="font-bold text-lg md:text-3xl text-white uppercase tracking-widest">
                            Pilih Brand Favorit Mu
                        </h3>
                    </span>
                </div>
                
                <div class="grid grid-cols-3 md:grid-cols-6 gap-3 md:gap-6" id="brandContainer">
                    <!-- JS Generated -->
                </div>
            </section>
        </div>

        <!-- Catalog Section -->
        <section id="catalog" class="page-section hidden py-10 min-h-screen">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row justify-between items-center mb-8 bg-zinc-900 border border-zinc-800 p-4 rounded-xl gap-4 relative md:sticky md:top-24 z-40 shadow-xl">
                    <div class="flex items-center gap-2">
                        <i class="fas fa-filter text-accent"></i>
                        <h2 class="text-lg font-bold text-white uppercase tracking-wider">Katalog</h2>
                    </div>
                    
                    <div class="flex flex-col md:flex-row gap-4 w-full md:w-auto items-center">
                        <select onchange="sortProducts(this.value)" class="bg-black text-gray-300 border border-zinc-700 rounded px-3 py-2 text-xs focus:border-accent outline-none w-full md:w-auto">
                            <option value="default">Urutkan</option>
                            <option value="low">Harga Terendah</option>
                            <option value="high">Harga Tertinggi</option>
                        </select>
                        <div class="flex flex-wrap justify-center gap-2">
                            <button onclick="filterCategory('all')" class="cat-btn active bg-accent text-black font-bold px-4 py-1.5 rounded-full text-xs hover:bg-white hover:text-black transition">Semua</button>
                            <button onclick="filterCategory('Running')" class="cat-btn bg-black text-gray-400 border border-zinc-700 px-4 py-1.5 rounded-full text-xs hover:border-accent hover:text-black hover:bg-accent transition">Running</button>
                            <button onclick="filterCategory('Casual')" class="cat-btn bg-black text-gray-400 border border-zinc-700 px-4 py-1.5 rounded-full text-xs hover:border-accent hover:text-black hover:bg-accent transition">Casual</button>
                            <button onclick="filterCategory('Futsal')" class="cat-btn bg-black text-gray-400 border border-zinc-700 px-4 py-1.5 rounded-full text-xs hover:border-accent hover:text-black hover:bg-accent transition">Futsal</button>
                            <button onclick="filterCategory('Basket')" class="cat-btn bg-black text-gray-400 border border-zinc-700 px-4 py-1.5 rounded-full text-xs hover:border-accent hover:text-black hover:bg-accent transition">Basket</button>
                            <button onclick="filterCategory('Kaos')" class="cat-btn bg-black text-gray-400 border border-zinc-700 px-4 py-1.5 rounded-full text-xs hover:border-accent hover:text-black hover:bg-accent transition">Kaos</button>
                            <button onclick="filterCategory('Jam Tangan')" class="cat-btn bg-black text-gray-400 border border-zinc-700 px-4 py-1.5 rounded-full text-xs hover:border-accent hover:text-black hover:bg-accent transition">Jam Tangan</button>
                        </div>
                    </div>
                </div>

                <div class="bg-zinc-900/50 border-l-4 border-accent p-3 mb-8 text-xs text-gray-300">
                    <i class="fas fa-truck mr-2"></i> Siap kirim ke seluruh Indonesia dengan packing aman!
                </div>

                <div id="productGrid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6">
                    <!-- Products injected here -->
                </div>
                
                <div id="emptyState" class="hidden text-center py-20 text-gray-600">
                    <i class="fas fa-box-open text-6xl mb-4"></i>
                    <p>Barang tidak ditemukan.</p>
                </div>
            </div>
        </section>

        <!-- Galeri, Testimoni, FAQ, SizeGuide, Location (Disingkat agar muat, konten sama) -->
        <section id="gallery" class="page-section hidden py-16 container mx-auto px-4 bg-black">
            <!-- Galeri Konten -->
            <div class="text-center mb-12">
                <h2 class="text-2xl font-bold text-white mb-2 uppercase tracking-widest">Galeri Pembeli</h2>
                <div class="h-1 w-20 bg-accent mx-auto rounded"></div>
                <p class="text-gray-400 text-xs mt-4">Klik foto untuk melihat lebih jelas</p>
            </div>
            <div class="grid grid-cols-3 md:grid-cols-6 gap-2 md:gap-4">
                <div onclick="viewGalleryImage('pembeli1.jpg')" class="relative group overflow-hidden rounded-lg aspect-square cursor-pointer"><img src="pembeli1.jpg" class="w-full h-full object-cover"><div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center"><i class="fas fa-search-plus text-accent"></i></div></div>
                <div onclick="viewGalleryImage('pembeli2.jpg')" class="relative group overflow-hidden rounded-lg aspect-square cursor-pointer"><img src="pembeli2.jpg" class="w-full h-full object-cover"><div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center"><i class="fas fa-search-plus text-accent"></i></div></div>
                <div onclick="viewGalleryImage('pembeli3.jpg')" class="relative group overflow-hidden rounded-lg aspect-square cursor-pointer"><img src="pembeli3.jpg" class="w-full h-full object-cover"><div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center"><i class="fas fa-search-plus text-accent"></i></div></div>
                <!-- Video Contoh -->
                <div class="relative group overflow-hidden rounded-lg aspect-square bg-zinc-800 border border-zinc-700">
                    <video class="w-full h-full object-cover" controls muted loop playsinline><source src="video_review1.mp4" type="video/mp4"></video>
                    <div class="absolute top-2 right-2 bg-accent text-black text-[10px] font-bold px-2 py-1 rounded shadow-md pointer-events-none"><i class="fas fa-play"></i> VIDEO</div>
                </div>
            </div>
        </section>

        <section id="testimonials" class="page-section hidden py-16 container mx-auto px-4 bg-zinc-900/30">
            <div class="text-center mb-12">
                <h2 class="text-2xl font-bold text-white mb-4 uppercase tracking-widest">Kata Mereka</h2>
                <button onclick="openTestiModal()" class="bg-transparent hover:bg-accent hover:text-black text-accent border border-accent px-6 py-2 rounded text-xs font-bold transition uppercase tracking-wide">
                    <i class="fas fa-pen mr-2"></i>Tulis Ulasan
                </button>
            </div>
            <div id="testimoniGrid" class="grid md:grid-cols-3 gap-6">
                <div class="bg-zinc-900 border border-zinc-800 p-6 rounded-lg">
                    <div class="text-accent text-xs mb-4">★★★★★</div>
                    <p class="text-gray-400 text-sm mb-6">"Barang mendarat dengan aman di Medan. Kualitasnya oke banget!"</p>
                    <div class="flex items-center gap-4">
                        <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=100&fit=crop" class="w-10 h-10 rounded-full border border-zinc-700">
                        <div><p class="font-bold text-sm text-white">Rudi Hartono</p><p class="text-xs text-gray-500">Medan</p></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="sizeguide" class="page-section hidden py-12 min-h-screen">
            <div class="container mx-auto px-4 max-w-4xl">
                <div class="bg-zinc-900 border border-zinc-800 rounded-lg p-6 shadow-lg">
                    <h2 class="text-xl font-bold text-center mb-8 text-white uppercase">Size Guide</h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full text-sm md:text-base text-gray-300 text-center">
                            <thead><tr class="border-b border-zinc-700 text-accent"><th class="py-3">EUR</th><th>US</th><th>CM</th></tr></thead>
                            <tbody class="divide-y divide-zinc-800">
                                <tr><td class="py-3">39</td><td>6.5</td><td>24.5</td></tr>
                                <tr><td class="py-3">40</td><td>7</td><td>25</td></tr>
                                <tr><td class="py-3">41</td><td>8</td><td>26</td></tr>
                                <tr><td class="py-3">42</td><td>8.5</td><td>26.5</td></tr>
                                <tr><td class="py-3">43</td><td>9.5</td><td>27.5</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <div id="shipping-location-section" class="page-section hidden py-10 min-h-screen">
            <div class="container mx-auto px-4 grid md:grid-cols-3 gap-8">
                <section id="ongkir" class="bg-zinc-900 border border-zinc-800 p-6 rounded-lg md:col-span-2">
                    <h3 class="text-lg font-bold mb-4 flex items-center gap-2 text-white uppercase"><i class="fas fa-truck text-accent"></i> Cek Ongkir</h3>
                    <form id="shippingForm" onsubmit="checkShipping(event)" class="space-y-4">
                        <input type="text" id="destination" required placeholder="Kecamatan Tujuan" class="w-full bg-black border border-zinc-700 rounded p-3 text-white text-sm">
                        <button type="submit" class="w-full bg-accent text-black font-bold py-3 rounded text-sm uppercase">Cek Ongkir</button>
                    </form>
                    <div id="shippingResult" class="hidden mt-6 p-4 bg-accent/10 border border-accent/20 rounded text-sm text-accent">
                        <p class="text-gray-300">Untuk tarif real-time ke <span id="destResult" class="font-bold text-white"></span>, silakan chat admin.</p>
                    </div>
                </section>
                <section id="location" class="bg-zinc-900 border border-zinc-800 p-6 rounded-lg md:col-span-1">
                    <h3 class="text-lg font-bold mb-4 flex items-center gap-2 text-white uppercase"><i class="fas fa-map-pin text-accent"></i> Lokasi</h3>
                    <div class="w-full h-48 bg-zinc-800 rounded overflow-hidden grayscale hover:grayscale-0 transition duration-500">
                        <iframe width="100%" height="100%" frameborder="0" style="border:0" src="https://maps.google.com/maps?q=1.3759020665545012,99.27329924966573&z=16&output=embed" allowfullscreen></iframe>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-black text-white py-12 border-t border-zinc-900">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-500 text-sm">© 2025 Yusuf Store 25.</p>
            <a href="#" onclick="adminLogin(event)" class="hover:text-accent transition mt-4 inline-block text-xs uppercase tracking-widest text-gray-700">Admin Login</a>
        </div>
    </footer>

    <!-- Modals -->
    <div id="imageModal" class="fixed inset-0 z-[100] hidden flex items-center justify-center bg-black/95 p-4" onclick="closeModal()">
        <div class="relative w-full h-full flex items-center justify-center">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-500 hover:text-white text-3xl z-50">✕</button>
            <img id="modalImg" src="" class="max-h-[85vh] max-w-full object-contain rounded border border-zinc-800">
        </div>
    </div>

    <!-- ADMIN MODAL (UPDATED FOR FIREBASE) -->
    <div id="adminModal" class="fixed inset-0 z-[90] hidden flex items-center justify-center bg-black/90 p-4 backdrop-blur-sm">
        <div class="bg-zinc-900 border border-zinc-800 rounded-lg w-full max-w-lg p-6 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6 border-b border-zinc-800 pb-4">
                <h2 class="text-xl font-bold text-white uppercase tracking-wider">Admin Panel (Firebase)</h2>
                <button onclick="closeAdmin()" class="text-gray-500 hover:text-red-500"><i class="fas fa-times"></i></button>
            </div>

            <div class="flex mb-6 bg-black rounded p-1">
                <button onclick="showAdminTab('add')" id="tabAdd" class="flex-1 py-2 rounded text-xs font-bold uppercase bg-zinc-800 text-white transition">Tambah</button>
                <button onclick="showAdminTab('list')" id="tabList" class="flex-1 py-2 rounded text-xs font-bold uppercase text-gray-500 hover:text-white transition">Kelola</button>
            </div>

            <!-- Add Section -->
            <div id="adminAddSection">
                <form id="addProductForm" onsubmit="addProductToFirebase(event)" class="space-y-4">
                    <input type="text" id="addName" required class="w-full bg-black border border-zinc-700 p-3 rounded text-white text-sm focus:border-accent outline-none" placeholder="Nama Produk">
                    <div class="grid grid-cols-2 gap-4">
                        <select id="addBrand" class="w-full bg-black border border-zinc-700 p-3 rounded text-white text-sm focus:border-accent outline-none"></select>
                        <select id="addCategory" class="w-full bg-black border border-zinc-700 p-3 rounded text-white text-sm focus:border-accent outline-none">
                            <option value="Running">Running</option>
                            <option value="Casual">Casual</option>
                            <option value="Futsal">Futsal</option>
                            <option value="Basket">Basket</option>
                            <option value="Kaos">Kaos</option>
                            <option value="Jam Tangan">Jam Tangan</option>
                        </select>
                    </div>
                    <div class="flex gap-4 flex-wrap">
                        <label class="flex items-center gap-2 text-sm text-gray-400 cursor-pointer"><input type="checkbox" id="addIsOriginal" class="accent-accent"> Original</label>
                        <label class="flex items-center gap-2 text-sm text-gray-400 cursor-pointer"><input type="checkbox" id="addIsSold" class="accent-red-500"> Sold Out</label>
                        <label class="flex items-center gap-2 text-sm text-gray-400 cursor-pointer"><input type="checkbox" id="addIsPO" class="accent-yellow-500"> Pre-Order (PO)</label>
                    </div>
                    <input type="number" id="addPrice" required class="w-full bg-black border border-zinc-700 p-3 rounded text-white text-sm focus:border-accent outline-none" placeholder="Harga Jual">
                    <input type="number" id="addOriginalPrice" class="w-full bg-black border border-zinc-700 p-3 rounded text-white text-sm focus:border-accent outline-none" placeholder="Harga Coret (Opsional)">
                    
                    <!-- INPUT FILE UNTUK UPLOAD KE FIREBASE -->
                    <div class="space-y-2">
                        <label class="text-xs text-gray-500 font-bold uppercase">Foto Produk (Upload ke Firebase)</label>
                        <input type="file" id="addImgFile" required accept="image/*" class="w-full bg-black border border-zinc-700 p-3 rounded text-white text-xs focus:border-accent outline-none file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-accent file:text-black hover:file:bg-white transition">
                    </div>
                    
                    <button type="submit" id="btnSubmit" class="w-full bg-white text-black font-bold py-3 rounded hover:bg-accent transition uppercase text-xs tracking-widest mt-2">
                        <span id="btnText">Upload & Simpan</span>
                    </button>
                </form>
            </div>

            <!-- List Section -->
            <div id="adminListSection" class="hidden">
                <div id="adminProductListContainer" class="space-y-2 max-h-[300px] overflow-y-auto pr-2"></div>
            </div>
        </div>
    </div>

    <!-- FIREBASE LOGIC -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, doc, updateDoc, deleteDoc, query, orderBy } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-storage.js";

        // Konfigurasi Firebase Anda
        const firebaseConfig = {
            apiKey: "AIzaSyC-76DURrn1anKUwwf0seh6vxyjKX-GV8Q",
            authDomain: "yusus-store.firebaseapp.com",
            projectId: "yusus-store",
            storageBucket: "yusus-store.firebasestorage.app",
            messagingSenderId: "115210326402",
            appId: "1:115210326402:web:58555cc684a29fabaeff9b",
            measurementId: "G-299QHZE8CP"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const storage = getStorage(app);

        // Sign in anonymously to allow reading/writing based on standard open rules (or user rules)
        signInAnonymously(auth).then(() => {
            console.log("Connected to Firebase as Anonymous User");
        }).catch((error) => {
            console.error("Auth Error:", error);
        });

        // --- DATA ---
        // Data Statis (Bawaan)
        const staticProducts = [
            { "id": 9969, "name": "Adidas Samba Cordura Size 43", "brand": "Adidas", "category": "Casual", "price": 200000, "img": "sepatu70.jpg", "sold": false },
            { "id": 9662, "name": "Under Armor Size 42", "brand": "Under Armour", "category": "Running", "price": 400000, "img": "sepatu101.jpg", "sold": false },
            { "id": 8640, "name": "Adidas FOG Size 37", "brand": "Adidas", "category": "Casual", "price": 300000, "img": "sepatu100.jpg", "sold": false },
            { "id": 6863, "name": "Kaos TNF Peta Indonesia Size", "brand": "TNF", "category": "Kaos", "price": 170000, "img": "kaos31.jpg", "sold": false },
            { "id": 4564, "name": "Kaos PUMA AC MILAN Size L", "brand": "Puma", "category": "Kaos", "price": 170000, "img": "kaos30.jpg", "sold": false },
            { "id": 9332, "name": "NB Rebel Size 40", "brand": "New Balance", "category": "Running", "price": 380000, "img": "sepatu99.jpg", "sold": false },
            { "id": 10027, "name": "Under Armor Size 41", "brand": "Under Armour", "category": "Running", "price": 400000, "img": "sepatu98.jpg", "sold": false },
            { "id": 3302, "name": "BALLERBRO BB PRO 1 SUMMER BLACK (36-44)", "brand": "Ballerbro", "category": "Basket", "price": 520000, "img": "sepatu97.jpg", "sold": false, "isOriginal": true, "isPO": true },
            { "id": 8187, "name": "BALLERBRO BB STRONGZ (36-44)", "brand": "Ballerbro", "category": "Basket", "price": 409000, "img": "sepatu96.jpg", "sold": false, "isOriginal": true, "isPO": true },
            { "id": 3336, "name": "MILLS XYCLOPS SPEEDFREAK M2", "brand": "Mills", "category": "Futsal", "price": 425000, "img": "sepatu93.jpg", "sold": false, "isOriginal": true },
            { "id": 9537, "name": "MILLS SPECTER BLACK WHITE", "brand": "Mills", "category": "Running", "price": 312000, "img": "sepatu91.jpg", "sold": false, "isOriginal": true },
            { "id": 2430, "name": "KANKY YUGA IKEBANA KHAKI", "brand": "Kanky", "category": "Running", "price": 228800, "img": "sepatu92.jpg", "sold": false, "isOriginal": true },
            { "id": 4455, "name": "CATALYST LIBERTE V5 IN NAVY", "brand": "Ortuseight", "category": "Futsal", "price": 575000, "img": "sepatu87.jpg", "sold": false, "isOriginal": true },
            { "id": 7371, "name": "HYPERBLAST 2.1 SACRAMENTO LIME", "brand": "Ortuseight", "category": "Running", "price": 730000, "img": "sepatu84.jpg", "sold": false, "isOriginal": true },
            { "id": 5814, "name": "910 HAZE 1.5 HITAM MERAH KUNING", "brand": "910 Nineten", "category": "Running", "price": 430000, "img": "sepatu80.jpg", "sold": false, "isOriginal": true },
            { "id": 4999, "name": "Asics Megic Speed Size 43", "brand": "Asics", "category": "Running", "price": 350000, "img": "sepatu22.jpg", "sold": false },
            { "id": 587, "name": "NIke SKT 24 Size 43 (Minus)", "brand": "Nike", "category": "Running", "price": 230000, "img": "sepatu76.jpg", "sold": true, "originalPrice": 300000 },
            { "id": 1335, "name": "Onitsuka Yellow Size 38", "brand": "Onitsuka", "category": "Casual", "price": 280000, "img": "sepatu64.jpg", "sold": false },
            { "id": 2674, "name": "Mizuno Size 41", "brand": "No Brand", "category": "Casual", "price": 390000, "img": "sepatu47.jpg", "sold": true },
            { "id": 1562, "name": "Adidas Ultra Boost Size 41", "brand": "Adidas", "category": "Running", "price": 350000, "img": "sepatu8.jpg", "sold": false },
            { "id": 9227, "name": "NIke Air Zoom Size 43", "brand": "Nike", "category": "Running", "price": 300000, "img": "sepatu43.jpg", "sold": false },
            { "id": 9639, "name": "Swiss Army 9205", "brand": "No Brand", "category": "Jam Tangan", "price": 320000, "img": "jamtangan1.jpg", "sold": false }
        ];

        let allProducts = [...staticProducts];
        let currentCategory = 'all';

        // Listen to Firestore Updates
        // Kita menggunakan koleksi 'products' di Firestore
        const q = query(collection(db, "products"), orderBy("price", "desc"));
        onSnapshot(q, (snapshot) => {
            const firebaseProducts = [];
            snapshot.forEach((doc) => {
                firebaseProducts.push({ id: doc.id, ...doc.data(), isFirebase: true });
            });
            // Gabungkan data statis + data firebase
            allProducts = [...firebaseProducts, ...staticProducts];
            // Render ulang
            if(currentCategory === 'all') {
                renderProducts(allProducts);
            } else {
                filterCategory(currentCategory);
            }
            renderAdminProductList();
        });

        // --- GLOBAL FUNCTIONS (Attached to window for HTML access) ---

        window.addProductToFirebase = async function(e) {
            e.preventDefault();
            const btnSubmit = document.getElementById('btnSubmit');
            const btnText = document.getElementById('btnText');
            const fileInput = document.getElementById('addImgFile');
            const file = fileInput.files[0];

            if (!file) {
                alert("Pilih foto produk terlebih dahulu!");
                return;
            }

            // UI Loading
            btnSubmit.disabled = true;
            btnSubmit.classList.add('opacity-50', 'cursor-not-allowed');
            btnText.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Mengupload...';

            try {
                // 1. Upload Gambar ke Storage
                const storageRef = ref(storage, 'products/' + new Date().getTime() + '_' + file.name);
                await uploadBytes(storageRef, file);
                const downloadURL = await getDownloadURL(storageRef);

                // 2. Simpan Data ke Firestore
                const newProduct = {
                    name: document.getElementById('addName').value,
                    brand: document.getElementById('addBrand').value,
                    category: document.getElementById('addCategory').value,
                    price: parseInt(document.getElementById('addPrice').value),
                    originalPrice: document.getElementById('addOriginalPrice').value ? parseInt(document.getElementById('addOriginalPrice').value) : null,
                    img: downloadURL, // Link gambar dari Firebase
                    sold: document.getElementById('addIsSold').checked,
                    isOriginal: document.getElementById('addIsOriginal').checked,
                    isPO: document.getElementById('addIsPO').checked,
                    createdAt: new Date()
                };

                await addDoc(collection(db, "products"), newProduct);

                alert("Berhasil! Produk tersimpan di Firebase.");
                document.getElementById('addProductForm').reset();
                showAdminTab('list');

            } catch (error) {
                console.error("Error adding product: ", error);
                alert("Gagal mengupload: " + error.message);
            } finally {
                btnSubmit.disabled = false;
                btnSubmit.classList.remove('opacity-50', 'cursor-not-allowed');
                btnText.innerHTML = 'Upload & Simpan';
            }
        }

        window.renderAdminProductList = function() {
            const container = document.getElementById('adminProductListContainer');
            if (allProducts.length === 0) {
                container.innerHTML = '<p class="text-center text-gray-400 py-4">Belum ada produk.</p>';
                return;
            }

            container.innerHTML = allProducts.map(p => `
                <div class="flex justify-between items-center bg-gray-50 p-2 rounded border border-gray-200 text-sm hover:bg-gray-100 transition">
                    <div class="flex items-center gap-2 overflow-hidden flex-1">
                        <img src="${p.img}" class="w-10 h-10 rounded object-cover bg-gray-200 border border-gray-300">
                        <div class="truncate">
                            <div class="font-bold text-gray-800 truncate w-24 md:w-40 ${p.sold ? 'line-through text-gray-400' : ''}">${p.name}</div>
                            <div class="text-[10px] text-gray-500 font-mono">${p.brand}</div>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <button onclick="toggleSold('${p.id}', ${p.isFirebase})" class="${p.sold ? 'bg-red-100 text-red-600' : 'bg-green-100 text-green-600'} border px-2 py-1 rounded text-[10px] font-bold w-16">
                            ${p.sold ? 'SOLD' : 'READY'}
                        </button>
                        ${p.isFirebase ? 
                            `<button onclick="deleteProduct('${p.id}', true)" class="text-gray-400 hover:text-red-500 p-2"><i class="fas fa-trash-alt"></i></button>` : 
                            `<button disabled class="text-gray-200 p-2" title="Produk Statis (Tidak bisa dihapus)"><i class="fas fa-lock"></i></button>`
                        }
                    </div>
                </div>
            `).join('');
        }

        window.toggleSold = async function(id, isFirebase) {
            if (isFirebase) {
                const p = allProducts.find(x => x.id == id);
                const productRef = doc(db, "products", id);
                await updateDoc(productRef, { sold: !p.sold });
            } else {
                alert("Fitur edit status hanya untuk produk yang diupload ke Firebase.");
            }
        }

        window.deleteProduct = async function(id, isFirebase) {
            if (isFirebase && confirm("Yakin ingin menghapus permanen dari Firebase?")) {
                await deleteDoc(doc(db, "products", id));
            }
        }

        // --- STANDARD FUNCTIONS ---

        window.renderProducts = function(data) {
            const grid = document.getElementById('productGrid');
            const empty = document.getElementById('emptyState');
            grid.innerHTML = '';
            
            if (data.length === 0) {
                empty.classList.remove('hidden');
                return;
            } else {
                empty.classList.add('hidden');
            }

            data.forEach(product => {
                const imgStyle = product.sold ? 'grayscale opacity-75' : '';
                const contentStyle = product.sold ? 'opacity-60' : '';
                
                let btnAction;
                if (product.sold) {
                    btnAction = `<button disabled class="w-full bg-gray-400 text-white py-2 rounded font-bold cursor-not-allowed text-sm">TERJUAL / SOLD</button>`;
                } else if (product.isPO) {
                    btnAction = `<a href="https://wa.me/6281375861195?text=Halo Yusuf Store 25, saya mau pesan PO ${product.name}" target="_blank" class="block w-full text-center bg-yellow-500 text-black py-2 rounded font-bold text-sm"><i class="fab fa-whatsapp"></i> Pesan PO</a>`;
                } else {
                    btnAction = `<a href="https://wa.me/6281375861195?text=Halo Yusuf Store 25, saya mau beli ${product.name}" target="_blank" class="block w-full text-center bg-green-600 text-white py-2 rounded font-bold text-sm"><i class="fab fa-whatsapp"></i> Beli via WA</a>`;
                }

                let priceDisplay = `<span class="text-accent font-bold text-sm md:text-lg border border-accent px-2 py-1 rounded">${formatRupiah(product.price)}</span>`;
                if (product.originalPrice && product.originalPrice > product.price) {
                    const discount = Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100);
                    priceDisplay = `
                        <div class="flex flex-col">
                            <span class="text-[10px] text-gray-400 line-through">${formatRupiah(product.originalPrice)}</span>
                            <div class="flex items-center gap-2">
                                ${priceDisplay}
                                <span class="text-[10px] bg-red-100 text-red-600 px-1 rounded font-bold">-${discount}%</span>
                            </div>
                        </div>`;
                }

                const card = `
                    <div class="product-card bg-zinc-900 rounded-lg shadow-lg border border-zinc-800 overflow-hidden relative group hover:border-accent transition duration-300">
                        <div class="relative group cursor-pointer" onclick="openModal('${product.id}')">
                            <img src="${product.img}" alt="${product.name}" class="w-full h-40 md:h-56 object-cover ${imgStyle}">
                            ${product.sold ? '<div class="absolute top-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded font-bold z-20">SOLD OUT</div>' : (product.isPO ? '<div class="absolute top-2 right-2 bg-yellow-500 text-black text-xs px-2 py-1 rounded font-bold z-20">PRE-ORDER</div>' : '')}
                        </div>
                        <div class="p-3 md:p-4 ${contentStyle} text-gray-300">
                            <div class="flex justify-between items-start"><p class="text-xs text-gray-500 uppercase font-semibold">${product.brand}</p>${product.isOriginal && !product.sold ? '<span class="text-[10px] bg-accent text-black px-2 py-0.5 rounded font-bold">ORI</span>' : ''}</div>
                            <h3 class="font-bold text-sm md:text-base text-white line-clamp-2 leading-tight mb-2">${product.name}</h3>
                            <div class="flex items-center justify-between mb-3">${priceDisplay}</div>
                            <div class="mt-3">${btnAction}</div>
                        </div>
                    </div>`;
                grid.innerHTML += card;
            });
        }

        window.formatRupiah = (number) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(number);

        window.adminLogin = function(e) {
            e.preventDefault();
            const password = prompt("Masukkan Password Admin:");
            if (password === "admin123") {
                document.getElementById('adminModal').classList.remove('hidden');
                renderAdminProductList();
            } else if (password !== null) alert("Password salah!");
        }

        window.closeAdmin = function() { document.getElementById('adminModal').classList.add('hidden'); }

        window.showAdminTab = function(tabName) {
            const addSec = document.getElementById('adminAddSection');
            const listSec = document.getElementById('adminListSection');
            const tabAdd = document.getElementById('tabAdd');
            const tabList = document.getElementById('tabList');
            if (tabName === 'add') {
                addSec.classList.remove('hidden'); listSec.classList.add('hidden');
                tabAdd.className = "flex-1 py-2 rounded-lg bg-slate-900 text-white font-bold text-xs uppercase";
                tabList.className = "flex-1 py-2 rounded-lg bg-gray-200 text-gray-600 font-bold text-xs uppercase";
            } else {
                addSec.classList.add('hidden'); listSec.classList.remove('hidden');
                tabList.className = "flex-1 py-2 rounded-lg bg-slate-900 text-white font-bold text-xs uppercase";
                tabAdd.className = "flex-1 py-2 rounded-lg bg-gray-200 text-gray-600 font-bold text-xs uppercase";
                renderAdminProductList();
            }
        }

        window.filterCategory = function(category) {
            currentCategory = category;
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.remove('bg-accent', 'text-white');
                btn.classList.add('bg-white/10', 'text-white', 'border', 'border-white/20');
            });
            if(event && event.target) {
                event.target.classList.remove('bg-white/10', 'border');
                event.target.classList.add('bg-accent', 'text-black');
            }
            if (category === 'all') {
                renderProducts(allProducts);
            } else {
                const filtered = allProducts.filter(p => p.category === currentCategory);
                renderProducts(filtered);
            }
        }

        window.filterByBrand = function(brandName) {
            showSection('catalog');
            const filtered = allProducts.filter(p => p.brand === brandName);
            renderProducts(filtered);
        }

        window.searchProduct = function(query) {
            const lowerQ = query.toLowerCase();
            const filtered = allProducts.filter(p => 
                p.name.toLowerCase().includes(lowerQ) || 
                p.brand.toLowerCase().includes(lowerQ) ||
                p.category.toLowerCase().includes(lowerQ)
            );
            renderProducts(filtered);
        }

        window.sortProducts = function(order) {
            let sorted = [...allProducts];
            if (currentCategory !== 'all') sorted = sorted.filter(p => p.category === currentCategory);
            
            if (order === 'low') sorted.sort((a, b) => a.price - b.price);
            else if (order === 'high') sorted.sort((a, b) => b.price - a.price);
            
            renderProducts(sorted);
        }

        window.showSection = function(sectionId) {
            document.querySelectorAll('.page-section').forEach(s => s.classList.add('hidden'));
            document.getElementById(sectionId).classList.remove('hidden');
            window.scrollTo(0, 0);
        }

        window.openModal = function(id) {
            // Loose comparison (==) because Firebase IDs are strings, static IDs are numbers
            const product = allProducts.find(p => p.id == id); 
            if(!product) return;
            const img = document.getElementById('modalImg');
            img.src = product.img;
            document.getElementById('imageModal').classList.remove('hidden');
        }

        window.closeModal = function() { document.getElementById('imageModal').classList.add('hidden'); }
        window.viewGalleryImage = function(src) { document.getElementById('modalImg').src = src; document.getElementById('imageModal').classList.remove('hidden'); }
        window.toggleMenu = function() { document.getElementById('mobileMenu').classList.toggle('hidden'); }
        
        window.populateBrandOptions = function() {
            const brands = ["Adidas", "Nike", "Onitsuka", "New Balance", "On Cloud", "Puma", "Ortuseight", "910 Nineten", "Skechers", "Hoka", "Asics", "Specs", "Le Coq", "Converse", "Saucony", "Under Armour", "TNF", "Lacoste", "Kanky", "DNY", "Mills", "Ballerbro", "No Brand"];
            document.getElementById('addBrand').innerHTML = brands.map(b => `<option value="${b}">${b}</option>`).join('');
            document.getElementById('brandContainer').innerHTML = brands.map(b => `
                <div onclick="filterByBrand('${b}')" class="brand-logo cursor-pointer bg-white p-2 rounded-lg flex items-center justify-center h-16 shadow-lg border border-gray-200 text-black text-xs font-bold text-center hover:bg-accent transition">${b}</div>
            `).join('');
        }

        // Init
        window.onload = () => {
            populateBrandOptions();
            renderProducts(staticProducts);
            showSection('home-section');
        }
    </script>
</body>
</html>